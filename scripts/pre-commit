#!/bin/sh

#
# üîí HOOK DE SEGURAN√áA - VERIFICA√á√ÉO PR√â-COMMIT
# 
# Este hook executa automaticamente antes de cada commit para verificar
# se c√≥digo protegido n√£o foi removido acidentalmente.
#

echo "üîí Verificando c√≥digo protegido antes do commit..."

# Executar script de verifica√ß√£o
node scripts/verificar-codigo-protegido.js

# Se o script falhar, abortar o commit
if [ $? -ne 0 ]; then
    echo ""
    echo "‚ùå COMMIT ABORTADO!"
    echo "‚ö†Ô∏è  C√≥digo protegido foi removido ou modificado."
    echo "üìñ Leia INVENTARIO_CODIGO_PROTEGIDO.md para mais informa√ß√µes."
    echo ""
    echo "Para restaurar arquivos do Git:"
    echo "  git restore <arquivo>"
    echo ""
    exit 1
fi

echo "‚úÖ Verifica√ß√£o passou. Prosseguindo com commit..."
exit 0

